![image](https://github.com/chaoxiyan1225/curio/assets/114714712/998df343-f761-44a5-b79a-fd542ff0eb7c)# 各家差异

|  对比项目  | H-O  | A-O | 备注|
|  ----  | ----  | -----  |----|
| 归档直读  | 支持 |  最近支持|H以较高的取回价格支持了该功能，不用解冻，直接取回，A以同样的方式|
| Data+  | 支持 |  部分支持|H的data+ 能力是比较完善的，能对数据做一些常规的处理，比较图片的剪裁、锐化等。也能使用用户编排的功能做处理，对医院、基因、医疗等有很强的实用性|    |
|HPFS |支持| 解决方案支持|支持标准的OBS对象接口去取数据也支持在部署了ECS中的PFS去按照POSIX语义取数据（通过obsfs工具实现），也可以采用CSG存储网关支持文件POSIX访问|
|敏感操作保护|支持|不支持|该功能一些操作必须管理员认证才可以：删除桶、创建桶、配置桶策略等、增加或者编辑桶清单|
|敏感数据保护|不支持|支持|O的敏感数据保护功能，能从海量数据精确识别敏感数据以及非敏感，通过可编辑的内置识别算法和敏感数据识别规则做到定制化。扫描出来的结果也能进一步做安全防护，例如加密等，达到数安全审计、个人信息保护等法规要求|
|委托|支持|不支持|通过创建委托，可以把资源共享给其他账号使用，或委托更专业的人和团队来代管资源。被委托方使用自己的账号登陆后切换到委托方账号可以代管资源，避免委托方的秘钥等泄露，账号更安全|
|配额|支持|不支持|支持对桶设置配额，让空间的使用更具有定制化|
|审计|支持|部分支持（融合日志实时查询操作审计服务等）|支持对桶操作、对象操作的追踪和统计，通过云审计等实现

# 各大厂家对比

|功能|oss| aws|azure|obs|cos|tos|说明|
|---|---|---|---|---|---|---|---|
|可用性|	99.995%	|99.9%|	99.9%|	99.995%|	99.95%|	99.995%	|可用性是对象存储的核心指标，对用户业务稳定性的度量|
|WORM|	✅	|✅|✅|	❌|	❌	|❌|	是合规审计的重要能力，没有该功能，无法上云|
|客户端加密|	✅|	✅|	✅|	❌|	❌| ❌|	客户端加密支持用户在端侧就对数据加密，数据离开端侧就是加密状态，用户数据更安全|
|DDOS防护|	✅|	❌|	❌|	❌|	❌|	❌|用户无需改变应用配置就能实现对象存储bucket的ddos防护|
|支持国密算法|✅|	❌|❌| ❌|❌|❌|	不支持国密会导致一些企业无法上云|
|归档取回（分钟级）|✅|	✅	|❌	|✅|❌|✅|满足冷数据快速取回|
|冷归档取回（小时级）|	✅	|❌	|✅	|❌	|❌	|❌|满足极冷数据快速取回|
|镜像回源|✅|	❌|	❌|	✅|	✅|✅|帮助用户更灵活的建站，结合跨区域复制，满足异地高可用|
|data+|	✅|	❌|	❌|	✅|	✅|✅|简化架构，降低集成门槛，对图片类服务很友好，像网商|
|append|	✅|	❌|	✅|	✅|	❌|✅|针对文件变上传边下载，可以极大程度提供文件的更新上线可访问速度|
|RTMP写入|	✅|	❌|	❌|	❌|	❌|❌|满足直播业务因合规等原因需要将视频长期保存的需求|
|数据湖行性能（瞬时拷贝/元数据优化）|	✅	|❌	|✅	|✅|✅|❌|针对hive等引擎文件夹重命名等场景，亚秒级实现|
|HPFS |解决方案支持|  ||✅| | |支持标准的OBS对象接口去取数据也支持在部署了ECS中的PFS去按照POSIX语义取数据（通过obsfs工具实现），也可以采用CSG存储网关支持文件POSIX访问|
|敏感操作保护|❌|❌||✅|❌|❌|❌|该功能一些操作必须管理员认证才可以：删除桶、创建桶、配置桶策略等、增加或者编辑桶清单|
|敏感数据保护|✅|❌|❌|❌|❌|❌|敏感数据保护功能，能从海量数据精确识别敏感数据以及非敏感，通过可编辑的内置识别算法和敏感数据识别规则做到定制化。扫描出来的结果也能进一步做安全防护，例如加密等，达到数安全审计、个人信息保护等法规要求|
|委托|❌|❌|❌|✅|❌|❌|通过创建委托，可以把资源共享给其他账号使用，或委托更专业的人和团队来代管资源。被委托方使用自己的账号登陆后切换到委托方账号可以代管资源，避免委托方的秘钥等泄露，账号更安全|
|配额|❌|❌|❌|✅|❌|❌|支持对桶设置配额，让空间的使用更具有定制化|
|审计|✅	|✅|✅|✅|✅|✅|支持对桶操作、对象操作的追踪和统计，通过云审计等实现|
|加速器|✅|✅|❌|❌|❌|❌|通过加速器，让访问oss时延低时延，轻松应对大数据、数据库等场景|

ps：1. data+ 更多的是EI函数计算& VAS服务和对象存储的结合使用，打造行业解决方案的研发侧整合
    2. 委托、配额、审计等企业能力可能会被做控标点。
    3。后续的策略可以让用户的数据进来容易流出难。比如 azure等，增加用户的黏性。


**归档直读**：
     支持直读，则数据所在的硬盘一直是加电状态，已使用的桶进入直读状态，但是未明确可读时间，则数据可能存在搬迁。
        当前国内厂商加速取回和正常取回都是采用同样的价格，主要是因为未使用磁带等需要耗时取回的设备。主要通过上下电硬盘的方式
        来实施取回数据. AWS的加速取回和标准定价差价非常大，说明它的数据分散在离线池。
      技术猜测： 启动一组常加电的硬盘，用于直读和缓存池，对于已经启动了直读的用户采用数据搬迁的方式
               华为当前归档存储一直处于直读状态，增加直读模式为了打击友商。

**Data+**:
|分类|功能项|H-O|A-O|
|----|----|----|-----|
|图片处理|图像处理|不支持|1、采用OSS原生处<br> 2.支持图片缩放、裁剪、锐化、格式转换、水印 <br> 3. 支持视频|
|图片处理|图片AI处理|不支持|1、采用oss原生处理服务IMM <br> 2. 支持内容识别、人脸识别、|
|图片处理|图像标签|1.使用图像识别开放的API<br> 2. OBS支持图像标签功能<br> 3. 主要通过识别图片内容属性打标签方便智能化处理|阿里MTS智能标签功能不仅支持图片标签还支持视音频|
|视频处理|视频解析|1. 调用MPC服务<br> 2. 获取并非人工智能的元数据，视频的大小 时长 封装格式 码率 宽度高度 帧率 音频编码格式|采用MTS没提信息匹配功能，可以查看文件的基础信息，包括视频的创建时间，格式 时长 码率  帧率  封面尺寸， 文件大小等元信息以及转码地址|
|视频处理|视频标签|不支持|通过智能分析视频中的 人物 文字 语音 行为多模信息，自动输出视频的多维度内容标签， 包含视频的分类 标签识别 人脸识别 文字识别等，对视频检索，个性化广告，个性化搜索，广告投放等场景有实用价值|
|视频处理|抽帧截图|1.MPC服务的新建截图任务接口<br> 2.支持按时间间隔以及制定的时间点批量截图，支持异步响应和同步响应<br> 3.支持视频编码格式，H.264 H.265,MPEG-2、MPEG-4、MJPEG、WMV1/2/3、Proress422等<br> 3.只支持 JPG格式的图片文件|原生视频截帧功能仅支持对视频编码格式为H264和H265的视频文件进行视频截帧；仅支持单张图片处理，不支持批量处理。可采用MTS截图功能，补齐差距。MTS截图功能支持截图列表功能，按照各种格式以及各种组合时间的截图处理。|
|视频处理|媒资转码|1.MPC服务的转码任务<br>2.可以改变原始音视频文件的格式、编码、码率、帧率等参数.<br>3.支持输入格式和输出格式较为广泛<br>4.支持音频、视频单独提取，支持字幕合入、水印功能|可采用MTS转码对标，功能优于华为MPC。支持容器格式、编码格式、音频编码格式优于华为，支持单独音频视频提取。支持对视频的精彩片段截取动图配合云端自动化处理工作流，音视频上传完毕后自动执行处理流程|
|内容审核|视频内容审核|1.使用视频分析服务中的视频审核功能<br>2.智能审查涉黄、涉恐、涉暴内容|可采用MTS视频AI中的智能审核应标。色情、暴恐、政治敏感、广告、视频黑库| 

<br>
-------------------------------------------<br>
ps 汇总: 
  1. 控制台数据处理流程中添加对应的工作流的链接<br>
  2. 预制部分标准的工作流<br>
  3. 将MTS能力抽象典型的场景做为典型案例，实际的功能可以采用链接跳转的方式，需要按照分类在OSS中去抽象<br>

# 并行文件系统
 1. 支持OBS接口的和POSIX文件语义去读取数据，支持client本地直读。意味着并行文件系统实现为后端实现。<br>
 2. 限制：一些特性不支持，图片处理，服务端加密 跨区域复制  多版本  桶清单  CORS规则  静态网页托管。数据类型只支持标准类型，按照生命周期进行不同的类型的存储类型去流动<br>
 3. 生命周期支持：并行文件系统的生命周期管理与对象存储生命周期管理应用场景一致，支持配置超期，转归档存储，转低频 <br>
 4. 商务：当前支持并行文件系统的对象存储和原始对象存储一致。

A的存储方案： 方案上通过CSG和 OSS 实现
1. 优势：为云上和云下的应用提供标准的文件服务，和块存储服务。支持多bucket聚合， 服务端加密  智能缓存  智能复制等功能 <br>
2. 劣势：（1）最大容量限制，当前支持的文件系统的最大容量 256T  （2）商务劣势，因为需要通过CSG实现，所以有额外的云网关费用  （3） 分离式架构，需要单独简历云网关服务，网关容易成为瓶颈。
   
# 企业级功能： 审计  委托  配额  敏感操作保护  
## 设计分析
H提供了云审计功能，针对所有的华为云服务提供日志审计服务，提供对各种云资源的操作记录的收集，存储和查询功能，可用于支持一些安全分析  合规审计， 资源跟踪等<br>
A提供了支持配置审计和操作审计，并支持对阿里云安全产品的审计支持。 OSS也支持bucket的管控事件列表，审计信息更全面，可以通过操作审计控制台去查询。<br>
优势：桶事件审计更全面，审计功能免费试用，开箱即用
劣势：不支持对象级的操作审计，对应华为云的数据事件操作。当前审计在阿里云产品页描述不全。
## 配额分析
H 支持设计对象的存储桶的配额，默认0 不限制。可以配置也可以取消。但是不会及时生效，有滞后性。超过桶存量滞后的操作写操作会报  403 <br>
A: 当前不支持桶配额<br>
分析：当前的桶配额主要是一些共享存储空间的企业场景。

## 委托以及敏感操作保护
委托：将自己账号中的资源操作权限委托给另一个更专业更高效的账号去运维，更有数据的高效性。<br>
敏感操作保护：对于一些敏感类的操作 如删除桶资源等需要输入验证码去验证。避免操作带来的风险和损失。<br>
分析： 主要针对客户专业性不强容易产生的误操作，导致业务受影响的场景。提供专家委托或敏感操作的二次确认等操作
A提供了敏感数据保护，主要对敏感数据作脱敏以及识别等操作。对于用户的权限暂未设置特殊安全安全拦截操作。可通过资源共享的方式让其他账号去管理资源

云盘&华为EVS 
|对比项|EVS|A云盘|备注|
|----|----|----|----|
|共享云硬盘|支持|不支持|支持多个云服务器并发读写访问数据块级别的存储设备，配合企业级主机集群软件，如windows  veritas VCS集群和CFS集群|
|回收站|支持|不支持|删除磁盘时候，把数据放到回收站不真正删除|
|云盘过户|支持|有限支持|通过云硬盘过户功能把一个账号的云硬盘给另一个账号，过完完成后，就属于接受过户的账号。云硬盘过户当前只支持数据盘|
|监控指标|支持（读比例，队列长度，IO平均块大小，平均读写时延，平均时延，IO上限次数）|支持不足|华为支持读写IOPS 读写带宽  读比例 队列长度  IO平均块大小  等|
|单实例数据盘数量|24|16||
|主力档位性能|通用型 SSD20000IOPS|PLO|暂无|
<br>
备注：
1. 块存储对于openstack提出了部分云存储概念支持度不够 <br>
2. 块存储对于企业场景的贡献云盘暂不支持<br>
3. 主力销售档位性能差异是目前最大的可能友商引导点<br>
4. 用快照创建磁盘 & 连续复制型容灾需要在块存储页面增加对应链接， 应对应标场景的要求

企业功能分析-共享云硬盘、回收站、过户等
## 共享云硬盘 
1. 华为的共享云硬盘提供支持多个云服务器并发读写数据块级别的存储设备，主要适用于 Windows MSCS集群， veritas VCS集群和CFS集群等
2. 阿里当前支持通过SLB等多种新的业务模式，来替代传统企业集群的架构，针对传统企业集群上云场景，可以通过业务改造实现。

## 磁盘回收站分析：
1、 华为云支持磁盘回收站功能，删除云盘把磁盘放入回收站中保存，防止误删除导致数据丢失。回收站最多7天。
2、 阿里云采用RAM权限管控来赋予客户权限，默认客户对于自己的敏感数据操作是正确的。

## 过户功能
1. 华为云支持云硬盘的过户功能，把一个账号过户给另一个账户。当前只支持数据盘，主要是用户跨部门或者关联单位的业务数据过户。减少数据迁移复杂度。 功能主要来自openstack的 cinder功能。
2. 阿里云当前不支持云盘过户功能。但支持资源共享，多账号之间通过共享的方式将一个账号下的指定资源共享一个或者多个目标账号使用。当前不支持跨企业账号的共享。
ps： 针对共享云硬盘的场景，采用架构的优势降为打击，给客户推广改造方案。推荐客户业务改造，并使用弹性伸缩服务。








               
